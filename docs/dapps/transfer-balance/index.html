<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dapps/transfer-balance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Transfer Balance | Nervos CKB</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.nervos.org/img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://docs.nervos.org/img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://docs.nervos.org/docs/dapps/transfer-balance"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Transfer Balance | Nervos CKB"><meta data-rh="true" name="description" content="&lt;TutorialHeader"><meta data-rh="true" property="og:description" content="&lt;TutorialHeader"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.nervos.org/docs/dapps/transfer-balance"><link data-rh="true" rel="alternate" href="https://docs.nervos.org/docs/dapps/transfer-balance" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nervos.org/docs/dapps/transfer-balance" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q42TXTFP46"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Q42TXTFP46",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Nervos CKB" href="/opensearch.xml">


<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&display=swap">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/extra.js"></script><link rel="stylesheet" href="/assets/css/styles.6058dd13.css">
<script src="/assets/js/runtime~main.7b954c3c.js" defer="defer"></script>
<script src="/assets/js/main.d5ee4abc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/img/logo.png" alt="Nervos CKB Docs" class="navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-dark.png" alt="Nervos CKB Docs" class="navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar-search navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><div class="navbar__item navbar-help"><a class="help-flex" href="https://discord.gg/nervosnetwork" target="__blank"><img src="/svg/icon-discord.svg"><p class="help-text">Get Help</p></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/">DApps</a><button aria-label="Collapse sidebar category &#x27;DApps&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/dapps/transfer-balance">Transfer Balance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dapps/write-message">Write Message</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dapps/issue-token">Issue Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dapps/create-dob">Create a DOB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dapps/devtool">Dev Tools</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-environment">Dev Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rpcs">RPCs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/concepts/">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ecosystem">Ecosystem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item disabled-menu-link"><a class="menu__link" href="/docs/concepts/cell-model">Contracts (coming soon...)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item disabled-menu-link"><a class="menu__link" href="/docs/concepts/cell-model">Run Node (coming soon...)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item disabled-menu-link"><a class="menu__link" href="/docs/concepts/cell-model">Mining (coming soon...)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>View and Transfer Balance</h1>
<div class="box_OmWe"><div class="estimateTime_dfR_ bold_xF78">Estimated time: <!-- -->2 – 5 min</div><div class="bold_xF78">What you’ll learn:</div><ul><li>How to transfer CKB from one account to another</li><li>Build a basic transaction</li><li>How to sign a transaction</li></ul></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-transaction-works">How Transaction Works<a href="#how-transaction-works" class="hash-link" aria-label="Direct link to How Transaction Works" title="Direct link to How Transaction Works">​</a></h2>
<p>CKB is based on UTXO-like cell model. Every cell has a capacity limit which represents the CKB balance and how much data can be stored in this cell at the same time. Cell can store any type of data.</p>
<p>A transaction in CKB works just like Bitcoin. Each transaction is consuming some input cells and producing some new output cells. Notice that the output cells&#x27;s total capacities can not be larger than the one from the input cells. Similar with how the UTXOs is transfer and converted in Bitcoin.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-devnet--run-example">Setup Devnet &amp; Run Example<a href="#setup-devnet--run-example" class="hash-link" aria-label="Direct link to Setup Devnet &amp; Run Example" title="Direct link to Setup Devnet &amp; Run Example">​</a></h2>
<p>To begin, you&#x27;ll need to install <code>@offckb/cli</code> to establish a local dev environment and initialize the project.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token function" style="color:var(--code-function)">npm</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-g</span><span class="token plain"> @offckb/cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">changed </span><span class="token number" style="color:rgb(9, 134, 88)">106</span><span class="token plain"> packages </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> 17s</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">11</span><span class="token plain"> packages are looking </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> funding</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">run </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable function" style="color:var(--code-function)">npm</span><span class="token variable" style="color:rgb(9, 134, 88)"> fund</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> details</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Use <code>offckb</code> to select the <code>view-and-transfer-balance</code> template to init the project to your local environment</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">offckb init </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">project-name</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">? Select a dapp template </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Use arrow keys</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  View and Transfer Balance</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  Issue Token via xUDT scripts</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">❯ Write and Read On-Chain Message</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">a simple dapp to </span><span class="token function" style="color:var(--code-function)">write</span><span class="token plain"> and </span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">read</span><span class="token plain"> text message from blockchain via storing it </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> cells</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">init CKB dapp project: /Users/ckb/Desktop/offckb/</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">project-name</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">✨  Done </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">.52s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Install node dependencies and start the example app:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">project-name</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">yarn</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">yarn</span><span class="token plain"> start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">$ parcel index.html</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">Server running at http://localhost:1234</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">✨ Built </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> 66ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Now, the app is running in <a href="http://localhost:1234" target="_blank" rel="noopener noreferrer">http://localhost:1234</a></p>
<img src="/img/dapps/transfer-dapp.jpg">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-the-devnet">Start the Devnet<a href="#start-the-devnet" class="hash-link" aria-label="Direct link to Start the Devnet" title="Direct link to Start the Devnet">​</a></h3>
<p>In order to interact with the app, you need to start the devnet and check some accounts to use.</p>
<p>Open one terminal and start the devnet:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">offckb </span><span class="token function" style="color:var(--code-function)">node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">/bin/sh: /Users/nervosDocs/.nvm/versions/node/v18.12.1/lib/node_modules/@offckb/cli/target/ckb/ckb: No such </span><span class="token function" style="color:var(--code-function)">file</span><span class="token plain"> or directory</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">/Users/nervosDocs/.nvm/versions/node/v18.12.1/lib/node_modules/@offckb/cli/target/ckb/ckb not found, download and </span><span class="token function" style="color:var(--code-function)">install</span><span class="token plain"> the new version </span><span class="token number" style="color:rgb(9, 134, 88)">0.113</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB installed successfully.</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">init devnet config folder: /Users/nervosDocs/.nvm/versions/node/v18.12.1/lib/node_modules/@offckb/cli/target/devnet</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">modified  /Users/nervosDocs/.nvm/versions/node/v18.12.1/lib/node_modules/@offckb/cli/target/devnet/ckb-miner.toml</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB output: </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-03-20 07:56:44.765 +00:00 main INFO sentry  sentry is disabled</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB output: </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-03-20 07:56:44.766 +00:00 main INFO ckb_bin::helper  raise_fd_limit newly-increased limit: </span><span class="token number" style="color:rgb(9, 134, 88)">61440</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB output: </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-03-20 07:56:44.854 +00:00 main INFO ckb_bin::subcommand::run  ckb version: </span><span class="token number" style="color:rgb(9, 134, 88)">0.113</span><span class="token plain">.1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">95ad24b </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-01-31</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB output: </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-03-20 07:56:45.320 +00:00 main INFO ckb_db_migration  Init database version </span><span class="token number" style="color:rgb(9, 134, 88)">20230206163640</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">CKB output: </span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-03-20 07:56:45.329 +00:00 main INFO ckb_launcher  Touch chain spec hash: Byte32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">0x3036c73473a371f3aa61c588c38924a93fb8513e481fa7c8d884fc4cf5fd368a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Open another terminal and check some pre-funded accounts, copy some private keys for later usage:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Command</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">offckb accounts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">Print account list, each account is funded with 42_000_000_00000000 capacity </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> the genesis block.</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    privkey: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x6109170b275a09ad54877b82f7d9930f88cab5717d484fb4741ae9d1dd078cd6&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    pubkey: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x02025fa7b61b2365aa459807b84df065f1949d58c0ae590ff22dd2595157bffefa&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lockScript: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      codeHash: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      hashType: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;type&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      args: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x8e42b1999f265a0078503c4acec4d5e134534297&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    address: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ckt1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsqvwg2cen8extgq8s5puft8vf40px3f599cytcyd8&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    args: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x8e42b1999f265a0078503c4acec4d5e134534297&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    privkey: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x9f315d5a9618a39fdc487c7a67a8581d40b045bd7a42d83648ca80ef3b2cb4a1&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    pubkey: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x026efa0579f09cc7c1129b78544f70098c90b2ab155c10746316f945829c034a2d&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lockScript: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      codeHash: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      hashType: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;type&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      args: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x758d311c8483e0602dfad7b69d9053e3f917457d&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    address: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ckt1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsqt435c3epyrupszm7khk6weq5lrlyt52lg48ucew&#x27;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    args: </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;0x758d311c8483e0602dfad7b69d9053e3f917457d&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token comment" style="color:var(--code-comment)">#... </span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="behind-the-scene">Behind the Scene<a href="#behind-the-scene" class="hash-link" aria-label="Direct link to Behind the Scene" title="Direct link to Behind the Scene">​</a></h2>
<p>Open the <code>lib.ts</code> file in your project and check out the <code>generateAccountFromPrivateKey</code> function:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> generateAccountFromPrivateKey </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">privKey</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Account </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> pubKey </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> hd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">privateToPublic</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">privKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> args </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> hd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">publicKeyToBlake160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">pubKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> template </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> lumosConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SCRIPTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SECP256K1_BLAKE160&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> lockScript </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    codeHash</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> template</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">CODE_HASH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    hashType</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> template</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">HASH_TYPE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    args</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> address </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">encodeToAddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">lockScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> config</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lockScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    address</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    pubKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>What this function does is to generate the account&#x27;s public key and address via a private key. Here, we need to construct and encode a lock script to get the corresponding address of this account. A lock script ensures that only the owner can consume their live cells.</p>
<p>Here, we use the CKB standard lock script template combining the SECP256K1 signing algorithm with the BLAKE160 hashing algorithm to build such a lock script. Notice that different templates will yield different addresses when encoding the address, corresponding to different type of guard for the assets.</p>
<p>Once we get the lock script of a account, we can know how much balance the account has. The calculation is very simple, we query and find all the cells that uses the same lock script and sum all these cells&#x27;s capacity, the amount is the balance.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">capacityOf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">address</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">Promise</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token constant" style="color:var(--code-constant)">BI</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> collector </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> indexer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lock</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">parseAddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> config</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> balance </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token constant" style="color:var(--code-constant)">BI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> cell </span><span class="token keyword" style="color:rgb(0, 0, 255)">of</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">collect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    balance </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> balance</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">cellOutput</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">capacity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> balance</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In Nervos CKB, Shannon is the smallest currency unit, with 1 CKB equaling 10^8 Shannon. This unit system is similar to Bitcoin&#x27;s Satoshis, where 1 Bitcoin = 10^8 Satoshis. Notice that in this tutorial we only use Shannon unit.</p>
<p>Next, we can start transfer balance. Check out the <code>transfer</code> function in <code>lib.ts</code>:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token comment" style="color:var(--code-comment)">//CKB To Shannon</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Options</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  from</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  to</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  amount</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  privKey</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">transfer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">options</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">Promise</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>transfer</code> function accepts a <code>Option</code> parameter which includes necessary info about the transfer such as fromAddress/toAddress/amount and the private key to sign the transfer transaction.</p>
<p>What this transfer transaction will do is that it collects and consumes as much as the amount capacities needed with some live cells as the input cells and produce some new output cells where the lock script of all these new cells are set to the new owner&#x27;s lock script for other account. In this way, the CKB balance are transferred from one account to another with the dying and the birthing of cells.</p>
<p>Next, let&#x27;s build the transaction for transferring balance. The first step is to create an empty <code>txSkeleton</code></p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">TransactionSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then we determine the total capacities required for our transaction including <code>Transfer Amount + Transaction Fee</code>, here we set the transaction fee as <code>100000</code> Shannon.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> neededCapacity </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token constant" style="color:var(--code-constant)">BI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">100000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then we retrieve the sender account&#x27;s assets from blockchain RPC with the help of <code>indexer</code> and collect the transaction&#x27;s inputs cells</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> fromScript </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">parseAddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  config</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> collectedSum </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token constant" style="color:var(--code-constant)">BI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> collected</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Cell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> collector </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> indexer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> lock</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> fromScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;empty&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> cell </span><span class="token keyword" style="color:rgb(0, 0, 255)">of</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">collect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  collectedSum </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> collectedSum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">cellOutput</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">capacity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  collected</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">collectedSum </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> neededCapacity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">collectedSum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">lt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">neededCapacity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">Not enough CKB, </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation">collectedSum</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)"> &lt; </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation">neededCapacity</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now lets create the transaction&#x27;s output cells. <code>transferOutput</code> is generated based on the amount the user wishes to transfer, and <code>changeOutput</code> is the left change after the transaction.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> toScript </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">parseAddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> config</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> transferOutput</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Cell </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  cellOutput</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    capacity</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token constant" style="color:var(--code-constant)">BI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">toHexString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lock</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> toScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  data</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> changeOutput</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Cell </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  cellOutput</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    capacity</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> collectedSum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">sub</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">neededCapacity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">toHexString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lock</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> fromScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  data</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then, we need to add Inputs and Outputs to the created <code>txSkeleton</code>. Also added are <code>Cell Deps</code>, which contain an <code>OutPoint</code> pointing to some specific lived cells, these cells are related to the transaction and can be used like dependencies to place code that will be loaded and executed by the <code>CKB-VM</code> or to place data that can be used for on-chain script execution. <a href="https://something" target="_blank" rel="noopener noreferrer">Detailed explanation</a></p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;inputs&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">inputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> inputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">...</span><span class="token plain">collected</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;outputs&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">outputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  outputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">transferOutput</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> changeOutput</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cellDeps&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cellDeps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  cellDeps</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    outPoint</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      txHash</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SCRIPTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SECP256K1_BLAKE160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">TX_HASH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      index</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SCRIPTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SECP256K1_BLAKE160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">INDEX</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    depType</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> lumosConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SCRIPTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">SECP256K1_BLAKE160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">DEP_TYPE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, update specific witness data in the transaction. The witness is a place to put data like signature for the transaction to be verified on blockchain. The witness can be used in whatever format you want, but here we follow a <a href="https://github.com/nervosnetwork/ckb/blob/1df5f2c1cbf07e04622fb8faa5b152c1af7ae341/util/types/schemas/blockchain.mol#L106" target="_blank" rel="noopener noreferrer">WitnessArgs</a> spec for basic transaction structure, notice that this spec can change to apply better practice.</p>
<p>The <code>witnessArgs</code> contains a 3 different parts, corresponding to different data needed for the specific scripts executions:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">WitnessArgs</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  lock</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> HexString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--code-comment)">// lock scripts of the input cells</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  inputType</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> HexString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--code-comment)">// type scripts of the input cells</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  outputType</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> HexString</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:var(--code-comment)">// type scripts of the output cells</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We update the witness part according to the transaction structure.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> firstIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;inputs&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">findIndex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">equal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      blockchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Script</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">pack</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">cellOutput</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      blockchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Script</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">pack</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">fromScript</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">firstIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">!==</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">firstIndex </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;witnesses&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;witnesses&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">witnesses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      witnesses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> witness</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;witnesses&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">firstIndex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> newWitnessArgs</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> WitnessArgs </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token comment" style="color:var(--code-comment)">/* 65-byte zeros in hex */</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    lock</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">witness </span><span class="token operator" style="color:rgb(0, 0, 0)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> witnessArgs </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> blockchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">unpack</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">bytify</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">witness</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> lock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> witnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">lock </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">newWitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">lock </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      </span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">equal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> newWitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Lock field in first witness is set aside for signature!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> inputType </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> witnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">inputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">inputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      newWitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">inputType </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> inputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> outputType </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> witnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">outputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">outputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">      newWitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">outputType </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> outputType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  witness </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">hexify</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">blockchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">pack</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">newWitnessArgs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;witnesses&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">witnesses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">    witnesses</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">firstIndex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> witness</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, we need to sign the transaction. But before that we will create a signing message.</p>
<ul>
<li>Generate signingEntries based on the transaction&#x27;s Inputs and Outputs</li>
<li>Retrieve the signature message</li>
<li>Use the private key to sign the message recoverably, including the signature information and necessary metadata for subsequent signature verification processes</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token plain">txSkeleton </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> commons</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">common</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">prepareSigningEntries</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;signingEntries&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> Sig </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> hd</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">signRecoverable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">privKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now let&#x27;s seal our transaction with the <code>txSkeleton</code> and the just-generated signature</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> tx </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> helpers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">sealTransaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">txSkeleton</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Sig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Send the transaction</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> hash </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> rpc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:var(--code-function)">sendTransaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;passthrough&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can open the console on the browser to see the full transaction to confirm the process.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="congratulations">Congratulations!<a href="#congratulations" class="hash-link" aria-label="Direct link to Congratulations!" title="Direct link to Congratulations!">​</a></h2>
<p>By following this tutorial this far, you have mastered how transfer balance works on CKB. Here&#x27;s a quick recap:</p>
<ul>
<li>Capacity of the cell means how much CKB balance you have and how much data can be stored in this cell at the same time</li>
<li>To build a CKB transaction is just to collecting some live cells and producing some new cells.</li>
<li>We follow the <code>witnessArgs</code> to place the needed signature or any other data in the transaction.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-step">Next Step<a href="#next-step" class="hash-link" aria-label="Direct link to Next Step" title="Direct link to Next Step">​</a></h2>
<p>So now your app works great on the local blockchain, you might want to switch it to different environments like Testnet and mainnet.</p>
<p>To do this, you need to update the chain config and related code.</p>
<p>Open the <code>ckb.ts</code> in your project root dir, change the <code>lumosConfig</code> and <code>CKB_RPC_URL</code>:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token comment" style="color:var(--code-comment)">//export const lumosConfig: config.Config = devConfig as config.Config;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> lumosConfig </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">predefined</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:var(--code-constant)">AGGRON4</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token comment" style="color:var(--code-comment)">//export const CKB_RPC_URL = &#x27;http://localhost:8114&#x27;;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token constant" style="color:var(--code-constant)">CKB_RPC_URL</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;https://testnet.ckb.dev/rpc&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Acutally, we have the corresponding Testnet version examples for all these tutorials. The source code of the Testnet version is in <a href="https://github.com/nervosnetwork/docs.nervos.org/tree/develop-v2/examples" target="_blank" rel="noopener noreferrer">https://github.com/nervosnetwork/docs.nervos.org/tree/develop-v2/examples</a>, you can clone the repo and start running on Testnet.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:var(--code-plain);--prism-background-color:var(--surface-02)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:var(--code-plain);background-color:var(--surface-02)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:var(--code-plain)"><span class="token function" style="color:var(--code-function)">git</span><span class="token plain"> clone https://github.com/nervosnetwork/docs.nervos.org.git</span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> docs.nervos.org.git/examples/</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">example-name</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:var(--code-plain)"><span class="token plain"></span><span class="token function" style="color:var(--code-function)">yarn</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:var(--code-function)">yarn</span><span class="token plain"> start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more details, check out the <a href="https://github.com/nervosnetwork/docs.nervos.org/blob/develop-v2/examples/simple-transfer/README.md" target="_blank" rel="noopener noreferrer">README.md</a>;</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-resources">Additional Resources<a href="#additional-resources" class="hash-link" aria-label="Direct link to Additional Resources" title="Direct link to Additional Resources">​</a></h2>
<ul>
<li>CKB transaction structure: <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0022-transaction-structure/0022-transaction-structure.md" target="_blank" rel="noopener noreferrer">RFC-0022-transaction-structure</a></li>
<li>CKB data structure basics: <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0019-data-structures/0019-data-structures.md" target="_blank" rel="noopener noreferrer">RFC-0019-data-structure</a>./SetupProjectContent.mdx
./SetupProject.js
./SetupProject.js
./SetupProject.js</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nervosnetwork/docs-new/tree/develop-v2/website/docs/dapps/transfer-balance.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-04-03T04:52:02.000Z">Apr 3, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DApps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dapps/write-message"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Write Message</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-transaction-works" class="table-of-contents__link toc-highlight">How Transaction Works</a></li><li><a href="#setup-devnet--run-example" class="table-of-contents__link toc-highlight">Setup Devnet &amp; Run Example</a></li><li><a href="#behind-the-scene" class="table-of-contents__link toc-highlight">Behind the Scene</a></li><li><a href="#congratulations" class="table-of-contents__link toc-highlight">Congratulations!</a></li><li><a href="#next-step" class="table-of-contents__link toc-highlight">Next Step</a></li><li><a href="#additional-resources" class="table-of-contents__link toc-highlight">Additional Resources</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Foundation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.nervos.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Us</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developer</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0002-ckb/0002-ckb.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Whitepaper</a></li><li class="footer__item"><a href="https://github.com/nervosnetwork/rfcs" target="_blank" rel="noopener noreferrer" class="footer__link-item">RFCs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://talk.nervos.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.reddit.com/r/NervosNetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://t.me/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://medium.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCONuJGdMzUY0Y6jrPBOzH7A" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Nervos Foundation. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>